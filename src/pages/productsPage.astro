---
import "../styles/sections/_frontpage.sass";
import "../styles/sections/kita-selections.sass";
import MainLayout from "../layout/base-layout.astro";
import CleaningProducts from "../components/cleaningProducts.astro";
---

<MainLayout title="Astro Starter Kit">
  <main class="flow content-grid">
    <h1 class="kita-name wide-width" id="kita-heading"></h1>
    <CleaningProducts />
  </main>
</MainLayout>

<script>
  const params = new URLSearchParams(window.location.search);
  const kita = params.get("kita");
  console.log(kita, "here is kita");

  if (kita) {
    const heading = document.getElementById("kita-heading");

    if (heading) {
      heading.innerText = kita;

      // Map Kita names to color classes
      let colorClass = "";
      switch (kita) {
        case "Kita Mucklabo":
          colorClass = "red";
          break;
        case "Kita Lillebror":
          colorClass = "orange";
          break;
        case "Kita Tommelise":
          colorClass = "yellow";
          break;
        case "Kita Hucky Bucky":
          colorClass = "green";
          break;
      }

      if (colorClass) {
        heading.classList.add(colorClass);
      }
    }
  }
</script>
