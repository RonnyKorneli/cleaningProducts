---
import MainLayout from "../../layout/base-layout.astro";

import { getLangFromUrl, useTranslations } from "../../i18n/utils";

const currentLang = getLangFromUrl(new URL(Astro.url.href)) || "en";
console.log(currentLang, "current lang in english");
---

<MainLayout title="Success">
  <main class="success-page content-grid">
    <h1 class="wide-width">Success for</h1>
    <h1 class="wide-width" id="kita-name-where"></h1>
    <h2 class="wide-width">Cleaning products for Kita has been ordered</h2>

    <a href={`/${currentLang}/`} class="exit-btn">Exit</a>
  </main>
</MainLayout>

<style lang="sass">
  .success-page
    display: flex
    flex-direction: column
    align-items: center
    justify-content: center
    height: 100vh
    text-align: center

  .success-page h1
    font-size: 3rem
    color: #2ecc71
    margin-bottom: 1rem

  .success-page h2
    font-size: 1.5rem
    color: #555
    margin-bottom: 2rem

  .exit-btn
    display: inline-block
    padding: 0.75rem 1.5rem
    background-color: #2ecc71
    color: #fff
    text-decoration: none
    border-radius: 0.5rem
    font-weight: bold
    transition: background-color 0.2s ease

  .exit-btn:hover
    background-color: #27ae60
</style>

<script>
  const params = new URLSearchParams(window.location.search);
  const kita = params.get("kita");

  if (kita) {
    const heading = document.getElementById("kita-name-where");

    if (heading) {
      heading.innerText = kita;
    }
  }
</script>
